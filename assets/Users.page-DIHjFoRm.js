import{j as e,r as d,L as m}from"./index-__O20ReU.js";import{H as h,F as g}from"./Footer-Dc2lDBtH.js";class x{id;name;age;email;isOnline;constructor(s,t,i,r,o){this.id=s??"",this.name=t??"user",this.age=i??-1,this.email=r??"user@example.any",this.isOnline=o??!1}}const f=({name:a,age:s,email:t,isOnline:i,changeIsOnline:r})=>{let o="circle-red",c="Offline";return i===!0&&(o="circle-green",c="Online"),e.jsxs("div",{className:"user-card",children:[e.jsx("h2",{children:a}),e.jsxs("div",{className:"user-card-body",children:[e.jsx("p",{children:s}),e.jsx("p",{children:t}),e.jsx("div",{className:`${o}`}),e.jsx("div",{className:"user-card-footer",children:e.jsx("button",{type:"button",onClick:r,children:c})})]})]})};class j{constructor(){throw new Error("This class don't need a instance. Just call its methods")}static generateID(s){return`${s}${crypto.randomUUID()}`}}class p{users;constructor(){this.users=[]}getUsersRandom(){let s=!1;const t=["Santiago","Andrés","Samuel","Nicolás","Antonio","Eduardo","Isabella","Luisa","Miguel"];for(let i=0;i<t.length;i++){s=!s;const r=j.generateID("user-"),o=parseInt(((Math.random()+1)*60).toString(),10),c=parseInt((Math.random()*(t.length-1-0)+0).toString()),n=new x(r,t[c],o,`${t[c]}@gmail.com`,s);this.users.push(n)}}}const O=()=>{const[a,s]=d.useState([]),[t,i]=d.useState(!0),[r,o]=d.useState(),c=n=>{s(u=>u.map(l=>l.id===n?{...l,isOnline:!l.isOnline}:l))};return d.useEffect(()=>{o(new p)},[]),d.useEffect(()=>{const n=(Math.random()*2+1)*1e3;r?.getUsersRandom();const u=setTimeout(()=>{const l=r?.users;l&&s(l),i(!1)},n);return()=>clearTimeout(u)},[r,r?.users]),e.jsx(e.Fragment,{children:t===!0?e.jsx(m,{}):e.jsx("div",{id:"users-cards-container",children:a.map(n=>e.jsx(f,{age:n.age,changeIsOnline:()=>c(n.id),email:n.email,isOnline:n.isOnline,name:n.name},`${n.id}`))})})};function v(){const[a,s]=d.useState(!0);return d.useEffect(()=>{const t=setTimeout(()=>{s(!1)},1e3);return()=>clearTimeout(t)},[]),e.jsxs("div",{className:"container page users-page",children:[e.jsx(h,{}),e.jsx("main",{children:a===!0?e.jsx(m,{}):e.jsx(O,{})}),e.jsx(g,{})]})}export{v as default};
